<div class="bg-white py-10 sm:py-14">
  <div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8">
    
    <!-- Product Header -->
    <div class="text-center mb-8">
      <h1 class="text-3xl sm:text-4xl font-bold text-gray-900 mb-2">
        <%= @product.name %>
      </h1>

      <% if @product.price.present? %>
        <p class="text-xl sm:text-2xl font-semibold text-emerald-600 mb-4">
          <%= number_to_currency(@product.price, unit: "₱", precision: 0) %>
        </p>
      <% else %>
        <p class="text-gray-400 italic mb-4">Price available on request</p>
      <% end %>

      <p class="text-base sm:text-lg text-gray-600 leading-relaxed max-w-xl mx-auto">
        <%= @product.description %>
      </p>
    </div>

    <!-- Photos -->
    <div class="mb-10">
      <h3 class="text-lg font-medium text-gray-800 mb-3">Photos</h3>
      <% if @product.images.attached? %>
        <div class="grid grid-cols-2 sm:grid-cols-3 gap-3">
          <% @product.images.each do |photo| %>
            <%= image_tag photo, class: "w-full h-36 sm:h-44 object-cover rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition" %>
          <% end %>
        </div>
      <% else %>
        <p class="text-gray-400 italic">No photos uploaded yet.</p>
      <% end %>
    </div>

    <!-- Video -->
    <% if @product.youtube_url.present? %>
      <div class="mb-10">
        <h3 class="text-lg font-medium text-gray-800 mb-3">Video</h3>
        <% video_id = @product.youtube_url.split("v=").last %>
        <div class="relative w-full aspect-[16/9] rounded-lg overflow-hidden shadow-sm">
          <iframe class="w-full h-full"
                  src="https://www.youtube.com/embed/<%= video_id %>"
                  frameborder="0"
                  allowfullscreen></iframe>
        </div>
      </div>
    <% end %>

    <!-- Actions -->
    <div class="flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center mt-8">
      <%= link_to "← Back", products_path,
            class: "w-full sm:w-auto px-5 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition text-center" %>

      <%= link_to "Request Quote", new_quote_request_path(product_id: @product.id),
            class: "w-full sm:w-auto px-5 py-2.5 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition text-center" %>

      <% if admin_signed_in? %>
        <%= link_to "Edit", edit_product_path(@product),
              class: "w-full sm:w-auto px-5 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition text-center" %>

        <%= button_to "Delete", product_path(@product),
              method: :delete,
              data: { turbo_confirm: "Are you sure you want to delete this product?" },
              class: "w-full sm:w-auto px-5 py-2.5 border border-red-300 text-red-600 rounded-lg hover:bg-red-50 transition text-center" %>
      <% end %>
    </div>
  </div>
</div>
