<% flash.each do |key, message| %>
  <% css_classes = case key.to_sym
     when :notice
       "bg-green-100 border-green-400 text-green-700"
     when :alert
       "bg-red-100 border-red-400 text-red-700"
     else
       "bg-blue-100 border-blue-400 text-blue-700"
     end
  %>

  <div
    data-controller="flash"
    class="fixed top-4 right-4 z-100 w-auto max-w-sm px-4 py-2 border shadow-lg flex items-center justify-between space-x-3 transform translate-x-full opacity-0 data-[visible='true']:translate-x-0 data-[visible='true']:opacity-100 transition-transform duration-300 ease-out <%= css_classes %>"
    role="alert"
    data-flash-target="container"
  >
    <p class="text-sm"><%= message %></p>
    <button
      type="button"
      class="ml-2 text-gray-500 hover:text-gray-700 focus:outline-none"
      aria-label="Close"
      data-action="click->flash#close"
    >
      Ã—
    </button>
  </div>
<% end %>